(this["webpackJsonptoh-react"]=this["webpackJsonptoh-react"]||[]).push([[0],{44:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),o=n(29),i=n.n(o),s=n(7),u=n(2),h=(n(44),n(9)),j=n(13),d=n.n(j),O=n(17),l=n(30),b=n.n(l),f={LOAD_HEROES:"LOAD_HEROES",LOAD_HERO:"LOAD_HERO",DELETE_HERO:"DELETE_HERO",ADD_HERO:"ADD_HERO",UPDATE_HERO:"UPDATE_HERO"},p=new(n(31).Dispatcher);function E(){return v.apply(this,arguments)}function v(){return(v=Object(O.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("/api/heroes.json");case 2:t=e.sent,p.dispatch({type:f.LOAD_HEROES,payload:t.data});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(O.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/heroes.json");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,c=r.find((function(e){return e.id===t})),p.dispatch({type:f.LOAD_HERO,payload:c});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m,g=n(37),y=n(32),H=n(33),D=n(38),L=n(36),k=n(34),R="CHANGE",_=[],A=new(function(e){Object(D.a)(n,e);var t=Object(L.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(H.a)(n,[{key:"getHeroes",value:function(){return _}},{key:"getHero",value:function(){return m}},{key:"getHeroById",value:function(e){return _.find((function(t){return t.id===e}))}},{key:"deleteHero",value:function(e){return _.filter((function(t){return t.id!==e}))}},{key:"updateHero",value:function(e){return _.map((function(t){return e.id===t.id?e:m}))}},{key:"sliceHeroes",value:function(e){return e?_.slice(0,e):[]}},{key:"addEventListener",value:function(e){this.on(R,e)}},{key:"removeEventListener",value:function(e){this.removeListener(R,e)}},{key:"emitChange",value:function(){this.emit(R)}}]),n}(k.EventEmitter));p.register((function(e){switch(e.type){case f.LOAD_HEROES:_=e.payload,A.emitChange();break;case f.DELETE_HERO:_=A.deleteHero(e.payload),A.emitChange();break;case f.ADD_HERO:_=[].concat(Object(g.a)(_),[e.payload]),A.emitChange();break;case f.UPDATE_HERO:_=A.updateHero(e.payload),A.emitChange();break;case f.LOAD_HERO:m=e.payload,A.emitChange()}}));var C=A;var w=function(){var e=Object(c.useState)(C.getHeroes()),t=Object(h.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),i=Object(h.a)(o,2),u=i[0],j=i[1];function d(){a(C.getHeroes())}return Object(c.useEffect)((function(){return C.addEventListener(d),n&&n.length||E(),function(){C.removeEventListener(d)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",{onChange:function(e){return j(e.target.value)},value:u,placeholder:"Enter a new hero name"}),Object(r.jsx)("button",{type:"button",onClick:function(){var e;(e=u).trim()&&p.dispatch({type:f.ADD_HERO,payload:{id:Date.now(),name:e}})},children:"Add"}),(!n||!n.length)&&Object(r.jsx)("h1",{children:"There are no heroes!"}),n&&n.length>0&&n.map((function(e){return Object(r.jsxs)("li",{children:[Object(r.jsx)(s.b,{to:"/heroes/".concat(e.id),children:e.name}),Object(r.jsx)("button",{type:"button",onClick:function(){return t=e.id,void p.dispatch({type:f.DELETE_HERO,payload:t});var t},children:"x"})]},e.id)}))]})};var T=function(e){var t=e.match,n=Object(c.useState)(+t.params.heroId),a=Object(h.a)(n,1)[0],o=Object(c.useState)(null),i=Object(h.a)(o,2),s=i[0],u=i[1];function j(){u(C.getHero())}return Object(c.useEffect)((function(){return C.addEventListener(j),a&&!s&&function(e){x.apply(this,arguments)}(a),function(){return C.removeEventListener(j)}}),[a,s]),Object(r.jsxs)(r.Fragment,{children:[!s&&Object(r.jsx)("h1",{children:"There is no hero with id: ".concat(a)}),s&&Object(r.jsx)("h1",{children:"Hero details works... (".concat(s.name,")")})]})};var S=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1];function o(){a(C.sliceHeroes(4))}return Object(c.useEffect)((function(){return C.addEventListener(o),n&&n.length||E(),function(){C.removeEventListener(o)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[!n.length&&Object(r.jsx)("h1",{children:"There are no heroes!"}),n.length&&Object(r.jsx)("ul",{children:n.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(s.b,{to:"/heroes/".concat(e.id),children:e.name})},e.id)}))})]})};var F=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Page not found!"}),Object(r.jsx)("button",{type:"button",onClick:function(){return e.history.push("/")},children:"Back to dashboard"})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))},I=12;var B=function(){var e=Object(c.useState)(!1);return Object(h.a)(e,1)[0],Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Tour of heroes"}),Object(r.jsxs)("nav",{className:"toh-navigation",children:[Object(r.jsx)(s.b,{to:"/",children:"Dashboard"})," | ",Object(r.jsx)(s.b,{to:"/heroes",children:"Heroes"})," | ",Object(r.jsx)(s.b,{to:"/heroes/".concat(I),children:"Narco details"})]})]})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsxs)(s.a,{children:[Object(r.jsx)(B,{}),Object(r.jsx)("hr",{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:"/",exact:!0,component:S}),Object(r.jsx)(u.a,{path:"/heroes",exact:!0,component:w}),Object(r.jsx)(u.a,{path:"/heroes/:heroId",component:T}),Object(r.jsx)(u.a,{component:F})]})]})}),document.getElementById("root")),P()}},[[70,1,2]]]);
//# sourceMappingURL=main.0adcc1b0.chunk.js.map