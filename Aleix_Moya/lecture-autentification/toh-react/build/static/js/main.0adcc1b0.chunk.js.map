{"version":3,"sources":["actions/action-types.js","dispatcher/dispatcher.js","actions/hero-actions.js","stores/hero-store.js","components/HeroList.jsx","components/HeroDetails.jsx","components/Dashboard.jsx","components/NotFound.jsx","reportWebVitals.js","components/Header.jsx","index.jsx"],"names":["actionTypes","LOAD_HEROES","LOAD_HERO","DELETE_HERO","ADD_HERO","UPDATE_HERO","dispatcher","Dispatcher","loadHeroes","a","axios","heroes","dispatch","type","payload","data","heroId","fetch","response","json","hero","find","heroFind","id","CHANGE","heroStore","filter","heroFilter","updatedHero","map","heroMap","amount","slice","callback","this","on","removeListener","emit","EventEmitter","register","action","emitChange","deleteHero","updateHero","HeroList","useState","getHeroes","setHeroes","newHero","setNewHero","handleChange","useEffect","addEventListener","length","removeEventListener","onChange","event","target","value","placeholder","onClick","name","trim","Date","now","to","HeroDetails","match","params","setHero","getHero","loadHeroById","Dashboard","sliceHeroes","NotFound","props","history","push","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Header","className","ReactDOM","render","StrictMode","path","exact","component","document","getElementById"],"mappings":"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","file":"static/js/main.0adcc1b0.chunk.js","sourcesContent":["const actionTypes = {\r\n  LOAD_HEROES: 'LOAD_HEROES',\r\n  LOAD_HERO: 'LOAD_HERO',\r\n  DELETE_HERO: 'DELETE_HERO',\r\n  ADD_HERO: 'ADD_HERO',\r\n  UPDATE_HERO: 'UPDATE_HERO',\r\n};\r\nexport default actionTypes;\r\n","import { Dispatcher } from 'flux';\r\n\r\nconst dispatcher = new Dispatcher();\r\n\r\nexport default dispatcher;\r\n","import axios from 'axios';\r\nimport actionTypes from './action-types';\r\nimport dispatcher from '../dispatcher/dispatcher';\r\n\r\nexport async function loadHeroes() {\r\n  const heroes = await axios('/api/heroes.json');\r\n\r\n  dispatcher.dispatch({\r\n    type: actionTypes.LOAD_HEROES,\r\n    payload: heroes.data,\r\n  });\r\n}\r\n\r\nexport function deleteHero(heroId) {\r\n  dispatcher.dispatch({\r\n    type: actionTypes.DELETE_HERO,\r\n    payload: heroId,\r\n  });\r\n}\r\n\r\nexport function createHero(name) {\r\n  if (!name.trim()) {\r\n    return;\r\n  }\r\n\r\n  dispatcher.dispatch({\r\n    type: actionTypes.ADD_HERO,\r\n    payload: {\r\n      id: Date.now(), // unique value for the id\r\n      name,\r\n    },\r\n  });\r\n}\r\n\r\nexport async function loadHeroById(heroId) {\r\n  const response = await fetch('/api/heroes.json');\r\n  const heroes = await response.json();\r\n  const hero = heroes.find((heroFind) => heroFind.id === heroId);\r\n  dispatcher.dispatch({\r\n    type: actionTypes.LOAD_HERO,\r\n    payload: hero,\r\n  });\r\n}\r\n","/* eslint-disable class-methods-use-this */\r\nimport { EventEmitter } from 'events';\r\nimport dispatcher from '../dispatcher/dispatcher';\r\nimport actionTypes from '../actions/action-types';\r\n\r\nconst CHANGE = 'CHANGE';\r\nlet heroes = [];\r\nlet hero;\r\n\r\nexport class HeroStore extends EventEmitter {\r\n  getHeroes() {\r\n    return heroes;\r\n  }\r\n\r\n  getHero() {\r\n    return hero;\r\n  }\r\n\r\n  getHeroById(heroId) {\r\n    return heroes.find((heroFind) => heroFind.id === heroId);\r\n  }\r\n\r\n  deleteHero(heroId) {\r\n    return heroes.filter((heroFilter) => heroFilter.id !== heroId);\r\n  }\r\n\r\n  updateHero(updatedHero) {\r\n    return heroes.map((heroMap) => {\r\n      if (updatedHero.id === heroMap.id) {\r\n        return updatedHero;\r\n      }\r\n      return hero;\r\n    });\r\n  }\r\n\r\n  sliceHeroes(amount) {\r\n    if (!amount) {\r\n      return [];\r\n    }\r\n    return heroes.slice(0, amount);\r\n  }\r\n\r\n  addEventListener(callback) {\r\n    this.on(CHANGE, callback);\r\n  }\r\n\r\n  removeEventListener(callback) {\r\n    this.removeListener(CHANGE, callback);\r\n  }\r\n\r\n  emitChange() {\r\n    this.emit(CHANGE);\r\n  }\r\n}\r\n\r\nconst heroStore = new HeroStore();\r\n\r\ndispatcher.register((action) => {\r\n  switch (action.type) {\r\n    case actionTypes.LOAD_HEROES:\r\n      heroes = action.payload;\r\n      heroStore.emitChange();\r\n      break;\r\n    case actionTypes.DELETE_HERO:\r\n      heroes = heroStore.deleteHero(action.payload);\r\n      heroStore.emitChange();\r\n      break;\r\n    case actionTypes.ADD_HERO:\r\n      heroes = [...heroes, action.payload];\r\n      heroStore.emitChange();\r\n      break;\r\n    case actionTypes.UPDATE_HERO:\r\n      heroes = heroStore.updateHero(action.payload);\r\n      heroStore.emitChange();\r\n      break;\r\n    case actionTypes.LOAD_HERO:\r\n      hero = action.payload;\r\n      heroStore.emitChange();\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n});\r\n\r\nexport default heroStore;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { loadHeroes, deleteHero, createHero } from '../actions/hero-actions';\r\nimport heroStore from '../stores/hero-store';\r\n\r\nfunction HeroList() {\r\n  const [heroes, setHeroes] = useState(heroStore.getHeroes());\r\n  const [newHero, setNewHero] = useState('');\r\n\r\n  function handleChange() {\r\n    setHeroes(heroStore.getHeroes());\r\n  }\r\n\r\n  useEffect(() => {\r\n    heroStore.addEventListener(handleChange);\r\n    if (!heroes || !heroes.length) {\r\n      loadHeroes();\r\n    }\r\n\r\n    return () => {\r\n      heroStore.removeEventListener(handleChange);\r\n    };\r\n  }, [heroes]);\r\n\r\n  return (\r\n    <>\r\n      <input\r\n        onChange={(event) => setNewHero(event.target.value)}\r\n        value={newHero}\r\n        placeholder=\"Enter a new hero name\"\r\n      />\r\n      <button type=\"button\" onClick={() => createHero(newHero)}>Add</button>\r\n      {(!heroes || !heroes.length) && <h1>There are no heroes!</h1>}\r\n      {heroes && heroes.length > 0 && heroes.map((hero) => (\r\n        <li key={hero.id}>\r\n          <Link to={`/heroes/${hero.id}`}>{hero.name}</Link>\r\n          <button type=\"button\" onClick={() => deleteHero(hero.id)}>x</button>\r\n        </li>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HeroList;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport heroStore from '../stores/hero-store';\r\nimport { loadHeroById } from '../actions/hero-actions';\r\n\r\nfunction HeroDetails({ match }) {\r\n  const [heroId] = useState(+match.params.heroId);\r\n  const [hero, setHero] = useState(null);\r\n\r\n  function handleChange() {\r\n    setHero(heroStore.getHero());\r\n  }\r\n\r\n  useEffect(() => {\r\n    heroStore.addEventListener(handleChange);\r\n\r\n    if (heroId && !hero) {\r\n      loadHeroById(heroId);\r\n    }\r\n\r\n    return () => heroStore.removeEventListener(handleChange);\r\n  }, [heroId, hero]);\r\n\r\n  return (\r\n    <>\r\n      {!hero && (\r\n      <h1>\r\n        {`There is no hero with id: ${heroId}`}\r\n      </h1>\r\n      )}\r\n      {hero && <h1>{`Hero details works... (${hero.name})`}</h1>}\r\n    </>\r\n  );\r\n}\r\n\r\nHeroDetails.propTypes = {\r\n  match: PropTypes.shape({\r\n    params: PropTypes.shape({\r\n      heroId: PropTypes.string.isRequired,\r\n    }),\r\n  }).isRequired,\r\n};\r\n\r\nexport default HeroDetails;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { loadHeroes } from '../actions/hero-actions';\r\nimport heroStore from '../stores/hero-store';\r\n\r\nconst AMOUNT = 4;\r\nfunction Dashboard() {\r\n  const [heroes, setHeroes] = useState([]);\r\n\r\n  function handleChange() {\r\n    setHeroes(heroStore.sliceHeroes(AMOUNT));\r\n  }\r\n\r\n  useEffect(() => {\r\n    heroStore.addEventListener(handleChange);\r\n\r\n    if (!heroes || !heroes.length) {\r\n      loadHeroes();\r\n    }\r\n\r\n    return () => { heroStore.removeEventListener(handleChange); };\r\n  }, [heroes]);\r\n  return (\r\n    <>\r\n      {!heroes.length && <h1>There are no heroes!</h1>}\r\n      {\r\n        heroes.length && <ul>{heroes.map((hero) => <li key={hero.id}><Link to={`/heroes/${hero.id}`}>{hero.name}</Link></li>)}</ul>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction NotFound(props) {\r\n  return (\r\n    <>\r\n      <h1>Page not found!</h1>\r\n      <button type=\"button\" onClick={() => props.history.push('/')}>Back to dashboard</button>\r\n    </>\r\n  );\r\n}\r\n\r\nNotFound.propTypes = {\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func.isRequired,\r\n  }).isRequired,\r\n};\r\n\r\nexport default NotFound;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({\r\n      getCLS, getFID, getFCP, getLCP, getTTFB,\r\n    }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst hero = {\r\n\tid: 12\r\n};\r\n\r\nfunction Header() {\r\n\tconst [isLogged] = useState(false);\r\n\tfunction isSignInVisible() {\r\n\t\treturn isLogged ? (\r\n\t\t\t<Link to=\"/signout\">Sign Out</Link>\r\n\t\t) : (\r\n\t\t\t<Link to=\"/signin\">Sign In</Link>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Tour of heroes</h1>\r\n\t\t\t<nav className=\"toh-navigation\">\r\n\t\t\t\t<Link to=\"/\">Dashboard</Link>\r\n\t\t\t\t{' | '}\r\n\t\t\t\t<Link to=\"/heroes\">Heroes</Link>\r\n\t\t\t\t{' | '}\r\n\t\t\t\t<Link to={`/heroes/${hero.id}`}>Narco details</Link>\r\n\t\t\t</nav>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport './index.css';\r\nimport HeroList from './components/HeroList';\r\nimport HeroDetails from './components/HeroDetails';\r\nimport Dashboard from './components/Dashboard';\r\nimport NotFound from './components/NotFound';\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\nimport Header from './components/Header';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Header />\r\n      <hr />\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Dashboard} />\r\n        <Route path=\"/heroes\" exact component={HeroList} />\r\n        <Route path=\"/heroes/:heroId\" component={HeroDetails} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}