{"version":3,"sources":["actions/action-types.js","dispatcher/dispatcher.js","actions/hero-actions.js","stores/hero-store.js","components/HeroList.jsx","components/HeroDetails.jsx","components/Dashboard.jsx","components/NotFound.jsx","reportWebVitals.js","actions/firebase/firebase.config.js","actions/firebase/firebaseIndex.js","actions/auth-actions.js","stores/auth-store.js","components/Header.jsx","index.jsx"],"names":["actionTypes","LOAD_HEROES","LOAD_HERO","DELETE_HERO","ADD_HERO","UPDATE_HERO","AUTH_LOGIN","AUTH_LOGIN_ERROR","AUTH_SIGNOUT","AUTH_SIGNOUT_ERROR","dispatcher","Dispatcher","loadHeroes","a","axios","heroes","dispatch","type","payload","data","heroId","fetch","response","json","hero","find","heroFind","id","CHANGE","heroStore","filter","heroFilter","updatedHero","map","heroMap","amount","slice","callback","this","on","removeListener","emit","EventEmitter","register","action","emitChange","deleteHero","updateHero","HeroList","useState","getHeroes","setHeroes","newHero","setNewHero","handleChange","useEffect","addEventListener","length","removeEventListener","onChange","event","target","value","placeholder","onClick","name","trim","Date","now","to","HeroDetails","match","params","setHero","getHero","loadHeroById","Dashboard","sliceHeroes","NotFound","props","history","push","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","auth","handleSignIn","user","customUserData","displayName","email","phoneNumber","photoURL","AUTHLOGIN","handleError","provider","GoogleAuthProvider","addScope","signInWithPopup","password","signInWithEmailAndPassword","signOut","authStore","AUTH_SIGOUT","Header","getUser","setUser","getSignInButtons","preventDefault","signInWithEmail","signInWithGoogle","addChangeListener","removeChangeListener","className","ReactDOM","render","StrictMode","path","exact","component","document","getElementById"],"mappings":"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","file":"static/js/main.94e94392.chunk.js","sourcesContent":["const actionTypes = {\n\tLOAD_HEROES: 'LOAD_HEROES',\n\tLOAD_HERO: 'LOAD_HERO',\n\tDELETE_HERO: 'DELETE_HERO',\n\tADD_HERO: 'ADD_HERO',\n\tUPDATE_HERO: 'UPDATE_HERO',\n\tAUTH_LOGIN: 'AUTH_LOGIN',\n\tAUTH_LOGIN_ERROR: 'AUTH_LOGIN_ERROR',\n\tAUTH_SIGNOUT: 'AUTH_SIGNOUT',\n\tAUTH_SIGNOUT_ERROR: 'AUTH_SIGNOUT_ERROR'\n};\nexport default actionTypes;\n","import { Dispatcher } from 'flux';\n\nconst dispatcher = new Dispatcher();\n\nexport default dispatcher;\n","import axios from 'axios';\nimport actionTypes from './action-types';\nimport dispatcher from '../dispatcher/dispatcher';\n\nexport async function loadHeroes() {\n  const heroes = await axios('/api/heroes.json');\n\n  dispatcher.dispatch({\n    type: actionTypes.LOAD_HEROES,\n    payload: heroes.data,\n  });\n}\n\nexport function deleteHero(heroId) {\n  dispatcher.dispatch({\n    type: actionTypes.DELETE_HERO,\n    payload: heroId,\n  });\n}\n\nexport function createHero(name) {\n  if (!name.trim()) {\n    return;\n  }\n\n  dispatcher.dispatch({\n    type: actionTypes.ADD_HERO,\n    payload: {\n      id: Date.now(), // unique value for the id\n      name,\n    },\n  });\n}\n\nexport async function loadHeroById(heroId) {\n  const response = await fetch('/api/heroes.json');\n  const heroes = await response.json();\n  const hero = heroes.find((heroFind) => heroFind.id === heroId);\n  dispatcher.dispatch({\n    type: actionTypes.LOAD_HERO,\n    payload: hero,\n  });\n}\n","/* eslint-disable class-methods-use-this */\nimport { EventEmitter } from 'events';\nimport dispatcher from '../dispatcher/dispatcher';\nimport actionTypes from '../actions/action-types';\n\nconst CHANGE = 'CHANGE';\nlet heroes = [];\nlet hero;\n\nexport class HeroStore extends EventEmitter {\n  getHeroes() {\n    return heroes;\n  }\n\n  getHero() {\n    return hero;\n  }\n\n  getHeroById(heroId) {\n    return heroes.find((heroFind) => heroFind.id === heroId);\n  }\n\n  deleteHero(heroId) {\n    return heroes.filter((heroFilter) => heroFilter.id !== heroId);\n  }\n\n  updateHero(updatedHero) {\n    return heroes.map((heroMap) => {\n      if (updatedHero.id === heroMap.id) {\n        return updatedHero;\n      }\n      return hero;\n    });\n  }\n\n  sliceHeroes(amount) {\n    if (!amount) {\n      return [];\n    }\n    return heroes.slice(0, amount);\n  }\n\n  addEventListener(callback) {\n    this.on(CHANGE, callback);\n  }\n\n  removeEventListener(callback) {\n    this.removeListener(CHANGE, callback);\n  }\n\n  emitChange() {\n    this.emit(CHANGE);\n  }\n}\n\nconst heroStore = new HeroStore();\n\ndispatcher.register((action) => {\n  switch (action.type) {\n    case actionTypes.LOAD_HEROES:\n      heroes = action.payload;\n      heroStore.emitChange();\n      break;\n    case actionTypes.DELETE_HERO:\n      heroes = heroStore.deleteHero(action.payload);\n      heroStore.emitChange();\n      break;\n    case actionTypes.ADD_HERO:\n      heroes = [...heroes, action.payload];\n      heroStore.emitChange();\n      break;\n    case actionTypes.UPDATE_HERO:\n      heroes = heroStore.updateHero(action.payload);\n      heroStore.emitChange();\n      break;\n    case actionTypes.LOAD_HERO:\n      hero = action.payload;\n      heroStore.emitChange();\n      break;\n\n    default:\n      break;\n  }\n});\n\nexport default heroStore;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { loadHeroes, deleteHero, createHero } from '../actions/hero-actions';\nimport heroStore from '../stores/hero-store';\n\nfunction HeroList() {\n  const [heroes, setHeroes] = useState(heroStore.getHeroes());\n  const [newHero, setNewHero] = useState('');\n\n  function handleChange() {\n    setHeroes(heroStore.getHeroes());\n  }\n\n  useEffect(() => {\n    heroStore.addEventListener(handleChange);\n    if (!heroes || !heroes.length) {\n      loadHeroes();\n    }\n\n    return () => {\n      heroStore.removeEventListener(handleChange);\n    };\n  }, [heroes]);\n\n  return (\n    <>\n      <input\n        onChange={(event) => setNewHero(event.target.value)}\n        value={newHero}\n        placeholder=\"Enter a new hero name\"\n      />\n      <button type=\"button\" onClick={() => createHero(newHero)}>Add</button>\n      {(!heroes || !heroes.length) && <h1>There are no heroes!</h1>}\n      {heroes && heroes.length > 0 && heroes.map((hero) => (\n        <li key={hero.id}>\n          <Link to={`/heroes/${hero.id}`}>{hero.name}</Link>\n          <button type=\"button\" onClick={() => deleteHero(hero.id)}>x</button>\n        </li>\n      ))}\n    </>\n  );\n}\n\nexport default HeroList;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport heroStore from '../stores/hero-store';\nimport { loadHeroById } from '../actions/hero-actions';\n\nfunction HeroDetails({ match }) {\n  const [heroId] = useState(+match.params.heroId);\n  const [hero, setHero] = useState(null);\n\n  function handleChange() {\n    setHero(heroStore.getHero());\n  }\n\n  useEffect(() => {\n    heroStore.addEventListener(handleChange);\n\n    if (heroId && !hero) {\n      loadHeroById(heroId);\n    }\n\n    return () => heroStore.removeEventListener(handleChange);\n  }, [heroId, hero]);\n\n  return (\n    <>\n      {!hero && (\n      <h1>\n        {`There is no hero with id: ${heroId}`}\n      </h1>\n      )}\n      {hero && <h1>{`Hero details works... (${hero.name})`}</h1>}\n    </>\n  );\n}\n\nHeroDetails.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      heroId: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n\nexport default HeroDetails;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { loadHeroes } from '../actions/hero-actions';\nimport heroStore from '../stores/hero-store';\n\nconst AMOUNT = 4;\nfunction Dashboard() {\n  const [heroes, setHeroes] = useState([]);\n\n  function handleChange() {\n    setHeroes(heroStore.sliceHeroes(AMOUNT));\n  }\n\n  useEffect(() => {\n    heroStore.addEventListener(handleChange);\n\n    if (!heroes || !heroes.length) {\n      loadHeroes();\n    }\n\n    return () => { heroStore.removeEventListener(handleChange); };\n  }, [heroes]);\n  return (\n    <>\n      {!heroes.length && <h1>There are no heroes!</h1>}\n      {\n        heroes.length && <ul>{heroes.map((hero) => <li key={hero.id}><Link to={`/heroes/${hero.id}`}>{hero.name}</Link></li>)}</ul>\n      }\n    </>\n  );\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction NotFound(props) {\n  return (\n    <>\n      <h1>Page not found!</h1>\n      <button type=\"button\" onClick={() => props.history.push('/')}>Back to dashboard</button>\n    </>\n  );\n}\n\nNotFound.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default NotFound;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const firebaseConfig = {\n\tapiKey: 'AIzaSyBupI73A-O9O9V70kIjtCius26vOBKEljo',\n\tauthDomain: 'toh-react-vero.firebaseapp.com',\n\tdatabaseURL: 'https://toh-react-vero.firebaseio.com',\n\tprojectId: 'toh-react-vero',\n\tstorageBucket: 'toh-react-vero.appspot.com',\n\tmessagingSenderId: '993593911800',\n\tappId: '1:993593911800:web:ca78535482ae25f5d1ce0d'\n};\n\nexport default firebaseConfig;\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport firebaseConfig from './firebase.config';\n\nfirebase.initializeApp(firebaseConfig);\nfirebase.auth();\n","import './firebase/firebaseIndex';\nimport firebase from 'firebase';\nimport dispatcher from '../dispatcher/dispatcher';\nimport actionTypes from './action-types';\n\nfunction handleSignIn(user) {\n\tconst customUserData = {\n\t\tdisplayName: user.displayName,\n\t\temail: user.email,\n\t\tphoneNumber: user.phoneNumber,\n\t\tphotoURL: user.photoURL\n\t};\n\tdispatcher.dispatch({\n\t\ttype: actionTypes.AUTHLOGIN,\n\t\tpayload: customUserData\n\t});\n}\n\nfunction handleError(type) {\n\tdispatcher.dispatch({\n\t\ttype\n\t});\n}\n\nexport async function signInWithGoogle() {\n\tconst provider = new firebase.auth.GoogleAuthProvider();\n\tprovider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n\n\ttry {\n\t\tconst { user } = await firebase.auth().signInWithPopup(provider);\n\t\thandleSignIn(user);\n\t} catch (error) {\n\t\thandleError(actionTypes.AUTH_LOGIN_ERROR);\n\t}\n}\n\nexport async function signInWithEmail(email, password) {\n\ttry {\n\t\tconst { user } = await firebase\n\t\t\t.auth()\n\t\t\t.signInWithEmailAndPassword(email, password);\n\t\thandleSignIn(user);\n\t} catch (error) {\n\t\thandleError(actionTypes.AUTH_LOGIN_ERROR);\n\t}\n}\n\nexport async function signOut() {\n\ttry {\n\t\tawait firebase.auth().signOut();\n\t\tdispatcher.dispatch({\n\t\t\ttype: actionTypes.AUTH_SIGNOUT\n\t\t});\n\t} catch (error) {\n\t\thandleError(actionTypes.AUTH_SIGNOUT_ERROR);\n\t}\n}\n","import { EventEmitter } from 'events';\nimport dispatcher from '../dispatcher/dispatcher';\nimport actionTypes from '../actions/action-types';\n\nconst CHANGE = 'CHANGE';\nlet user;\n\nclass AuthStore extends EventEmitter {\n\temitChange() {\n\t\tthis.emit(CHANGE);\n\t}\n\taddChangeListener(callback) {\n\t\tthis.on(CHANGE, callback);\n\t}\n\n\tremoveChangeListener(callback) {\n\t\tthis.removeListener(CHANGE, callback);\n\t}\n\n\tgetUser() {\n\t\treturn user;\n\t}\n}\n\nconst authStore = new AuthStore();\n\ndispatcher.register((action) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.AUTH_LOGIN:\n\t\t\tuser = action.payload;\n\t\t\tauthStore.emitChange();\n\t\t\tbreak;\n\t\tcase actionTypes.AUTH_SIGOUT:\n\t\t\tuser = null;\n\t\t\tauthStore.emitChange();\n\t\t\tbreak;\n\n\t\tcase actionTypes.AUTH_LOGIN_ERROR:\n\t\tcase actionTypes.AUTH_SINGOUT_ERROR:\n\t\tdefault:\n\t\t\tbreak;\n\t}\n});\n\nexport default authStore;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n\tsignInWithEmail,\n\tsignInWithGoogle,\n\tsignOut\n} from '../actions/auth-actions';\nimport authStore from '../stores/auth-store';\n\nconst hero = {\n\tid: 12\n};\n\nfunction Header() {\n\tconst [user, setUser] = useState(authStore.getUser());\n\n\tfunction handleChange() {\n\t\tsetUser(authStore.getUser());\n\t}\n\n\tuseEffect(() => {\n\t\tauthStore.addChangeListener(handleChange);\n\t\treturn () => authStore.removeChangeListener(handleChange);\n\t});\n\n\tfunction getSignInButtons() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tsignInWithEmail('gilbe.cao@gmail.com', '1234');\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{' '}\n\t\t\t\t\tEmail/Password\n\t\t\t\t</button>\n\t\t\t\t{' | '}\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={(event) => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tsignInWithGoogle();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tGoogle\n\t\t\t\t</button>\n\t\t\t\t;\n\t\t\t</>\n\t\t);\n\t}\n\n\tfunction isSignInVisible() {\n\t\treturn user ? (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={(event) => {\n\t\t\t\t\tdebugger;\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tsignOut();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tSign Out\n\t\t\t</button>\n\t\t) : (\n\t\t\tgetSignInButtons\n\t\t);\n\t}\n\treturn (\n\t\t<>\n\t\t\t<h1>Tour of heroes</h1>\n\t\t\t<nav className=\"toh-navigation\">\n\t\t\t\t<Link to=\"/\">Dashboard</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link to=\"/heroes\">Heroes</Link>\n\t\t\t\t{' | '}\n\t\t\t\t<Link to={`/heroes/${hero.id}`}>Narco details</Link>\n\t\t\t\t{' | '}\n\t\t\t\t{isSignInVisible()}\n\t\t\t\t{user && (\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t{' | '} Welcome {user.email}{' '}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</nav>\n\t\t</>\n\t);\n}\n\nexport default Header;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './index.css';\nimport HeroList from './components/HeroList';\nimport HeroDetails from './components/HeroDetails';\nimport Dashboard from './components/Dashboard';\nimport NotFound from './components/NotFound';\n\nimport reportWebVitals from './reportWebVitals';\nimport Header from './components/Header';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Header />\n      <hr />\n      <Switch>\n        <Route path=\"/\" exact component={Dashboard} />\n        <Route path=\"/heroes\" exact component={HeroList} />\n        <Route path=\"/heroes/:heroId\" component={HeroDetails} />\n        <Route component={NotFound} />\n      </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}