<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>SPOTIFY QUIZ</title>
	</head>
	<body>
		<div id="main-image">
			<img class="classImage" />
		</div>
		<div id="artist-image">
			<img class="artistImage" />
		</div>
		<div class="box-options">
			<div class="songName1"></div>
			<div class="songName2"></div>
			<div class="songName3"></div>
			<div class="songName4"></div>
		</div>
		<div>
			<audio class="classAudio" autoplay></audio>
		</div>

		<script src="store.js"></script>
		<script src="index.js"></script>
		<script>
			(async () => {
				await store.getToken();
				const playListData = await store.getPlayLists();
				console.log(playListData);
				console.log(token);

				let playListComponent = new PlayListComponent(playListData);

				if (playListData) {
					let mainImage = document.querySelector('.classImage');
					playListComponent.updateHtmlValue(
						mainImage,
						'src',
						playListData.images[0].url
					);
					let artistImage = document.querySelector('.artistImage');
					playListComponent.updateHtmlValue(
						artistImage,
						'src',
						playListData.tracks.items[17].track.album.images[0].url
					);

					document.querySelector('.songName1').innerHTML =
						playListData.tracks.items[17].track.name;

					document.querySelector('.songName2').innerHTML =
						playListData.tracks.items[12].track.name;

					document.querySelector('.songName3').innerHTML =
						playListData.tracks.items[7].track.name;

					document.querySelector('.songName4').innerHTML =
						playListData.tracks.items[9].track.name;

					let mainAudio = document.querySelector('.classAudio');
					debugger;
					let audio = await store.getTrack(
						playListData.tracks.items[17].track.external_urls.spotify
					);

					playListComponent.updateHtmlValue(mainAudio, 'src', audio);
				}
			})();
		</script>
	</body>
</html>
