 var questions = [
    [
        {letter: "a", answer:"asgard", status: 0, question: "Where did Thor and Rocket travel to find the Reality Stone?"},
        {letter: "a", answer:"avengers", status: 0, question: "Group of superhero who always saves the world"},
        {letter: "a", answer:"apollo 11", status: 0, question: "Which mission took the first man to moon from earth"}
    ],
    [
        {letter: "b", answer:"batman", status: 0, question: "SuperHero whose girlFriend is Catwoman"},
        {letter: "b", answer:"bean", status: 0, question: "Famous comedian who is well known as Mr. ____"},
        {letter: "b", answer:"bingo", status: 0, question: "The most difficult game in skylab precurso"}
    ],
    [    
        {letter: "c", answer:"chile", status: 0, question: "Over half of South America’s western coast is occupied by which country?"},
        {letter: "c", answer:"cindrella", status: 0, question: "Name of the beautiful disney princess"},
        {letter: "c", answer:"canada", status: 0, question: "The Niagara Falls lies in which country ?"}
    ],
    [
        {letter: "d", answer:"document", status: 0, question: "In javascript, you get the element id/class by ____.getELementBy"},
        {letter: "d", answer:"dubai", status: 0, question: "The tallest building in the world is located in which city?"},
        {letter: "d", answer:"dublin", status: 0, question: "What is the capital city of the Republic of Ireland?"}
    ],
    [
        {letter: "e", answer:"english", status: 0, question: "Third widely spoken language around the world"},
        {letter: "e", answer:"everest", status: 0, question: "In 1975 Junko Tabei from Japan became the first woman to do climb which mountain?"},
        {letter: "e", answer:"elton john", status: 0, question: " The song Crocodile Rock was the first US Billboard Hot 100 number one single for which singer?"}
    ],
    [
        {letter: "f", answer:"furious", status: 0, question: "The famous movie series of paul walker and his company is fast and ____ ?"},
        {letter: "f", answer:"freeman", status: 0, question: "Last name of famous hollywood actor ,who is oftenly famous for narrating is morgan _____ "},
        {letter: "f", answer:"free", status: 0, question: "when you dont have to pay for buying"}
    ],
    [
        {letter: "g", answer:"germany", status: 0, question: "One of the european country famous for car manufacturing units in the world"},
        {letter: "g", answer:"government", status: 0, question: "the group of people with the authority to govern a country or state; a particular ministry in office."},
        {letter: "g", answer:"genie", status: 0, question: "Magical person that live inside the lamp or bottle and grant people's wishes"}
    ],
    [
        {letter: "h", answer:"hippopotamus", status: 0, question: "Which animal’s name comes from the ancient Greek for “Horse of the river”?"},
        {letter: "h", answer:"hiroshima", status: 0, question: "America Dropped a nuclear bomb in the city of japan"},
        {letter: "h", answer:"halloween", status: 0, question: "An eve celebrated in most of the countries in which people puts on customes of ghost"}
    ],
    [
        {letter: "i", answer:"insulin", status: 0, question: "What hormone allows the cells in your body to absorb sugar from your blood?"},
        {letter: "i", answer:"iron man", status: 0, question: "Superhero who sacrificied his life to save the world"},
        {letter: "i", answer:"india", status: 0, question: "The one of the wonders of the world Taj mahal is located in "}
    ],
    [
        {letter: "j", answer:"javascript", status: 0, question: "Programming language that makes everyone cry"},
        {letter: "j", answer:"jennifer", status: 0, question: "American Female singer whose one of the hits was 'on the floor ft. pitbull'"},
        {letter: "j", answer:"jimmy", status: 0, question: "What is the first name of Pinocchio’s cricket friend in the Disney cartoon movie?"}
    ],
    [
        {letter: "k", answer:"hulk", status: 0, question: "that contains k,giant green superhero who is always angry"},
        {letter: "k", answer:"king", status: 0, question: "The husband of queen is referred as ? "},
        {letter: "k", answer:"kerosine", status: 0, question: "a light fuel oil obtained by distilling petroleum, used especially in jet engines and domestic heating boilers; paraffin oil."}
    ],
    [
        {letter: "l", answer:"lady gaga", status: 0, question: " Which singer’s real name is Stefani Joanne Angelina Germanotta?"},
        {letter: "l", answer:"latitude", status: 0, question: "geographic coordinate that specifies the north–south position of a point on the Earth's surface."},
        {letter: "l", answer:"leonardo", status: 0, question: "firstname of the actor of the greatest movie of all time 'titanic"}
    ],
    [
        {letter: "m", answer:"mercury", status: 0, question: "Hg is the chemical symbol of which element?"},
        {letter: "m", answer:"muggles", status: 0, question: "In the Harry Potter books, what name is given to non-magicians?"},
        {letter: "m", answer:"marilyn monroe", status: 0, question: "An american actress who sang the song 'happy birthday Mr president"}
    ],
    [
        {letter: "n", answer:"mercury", status: 0, question: "What metal is liquid at room temperature ?"},
        {letter: "n", answer:"nebula", status: 0, question: "Where did Thor settle down with the rest of the Asgardians after the initial snap?"},
        {letter: "n", answer:"november", status: 0, question: "In which month does Russia celebrate the October Revolution?"}
    ],
    [
        {letter: "o", answer:"odin", status: 0, question: "Father of thor and king of asgard"},
        {letter: "o", answer:"oblique", status: 0, question: "Mathematical term when an angle is not 90 degrees"},
        {letter: "o", answer:"oasis", status: 0, question: "one of the old amecican musical band"}
    ],
    [
        {letter: "p", answer:"peter", status: 0, question: "The first name of the spiderman in the movie(not real name)"},
        {letter: "p", answer:"pitbull", status: 0, question: "Bald american singer famous all around the world"},
        {letter: "p", answer:"pentagon", status: 0, question: "that has five sides"}
    ],
    [
        {letter: "q", answer:"quarantine", status: 0, question: "a state of isolation in which people or animals that have arrived from elsewhere or been exposed to infectious or contagious disease are placed."},
        {letter: "q", answer:"quantum", status: 0, question: "One of the most important branch of physic"},
        {letter: "q", answer:"queen", status: 0, question: "the wife of king is referres as.."}
    ],
    [
        {letter: "r", answer:"red", status: 0, question: "What was Marilyn Monroe’s natural hair color?"},
        {letter: "r", answer:"red", status: 0, question: "In The Matrix, which pill did neo took when offered by morpheous?"},
        {letter: "r", answer:"robert", status: 0, question: "Firstname of the actor of twilight and recently the batman"}
    ],
    [
        {letter: "s", answer:"spiderman", status: 0, question: "Superhero who can stick on the walls"},
        {letter: "s", answer:"superman", status: 0, question: "SuperHero from krypton who can fly and wears underwear outside his pants"},
        {letter: "s", answer:"sixty", status: 0, question: "How many seconds are there in one minute ?"}
    ],
    [
        {letter: "t", answer:"thanos", status: 0, question: "Most powerful person in the universe,whose can snap his fingers and destroy half world"},
        {letter: "t", answer:"thor", status: 0, question: "Son of odin, The king of asgard"},
        {letter: "t", answer:"tarzan", status: 0, question: "Man who was raised in jungle with gorillas and even has a human girlfriend"}
    ],
    [
        {letter: "u", answer:"uruguay", status: 0, question: "Which South American country won the first ever soccer World Cup in 1930?"},
        {letter: "u", answer:"uranus", status: 0, question: "The seventh planet from the sun"},
        {letter: "u", answer:"unforgiven", status: 0, question: "One of the greatest hits of muscial band metallica"}
    ],
    [
        {letter: "v", answer:"vendetta", status: 0, question: "The name of the famous revolutionary movie V for ____ ?"},
        {letter: "v", answer:"vin", status: 0, question: "First name of the bald american actor who played in fast and movies series"},
        {letter: "v", answer:"valyrian steel", status: 0, question: "Besides dragonglass, what is the only other substance capable of defeating White Walkers?"}
    ],
    [
        {letter: "w", answer:"wights", status: 0, question: "Dead creatures revived by White Walkers are known as:"},
        {letter: "w", answer:"sparrow", status: 0, question: 'word that contains w, Last name of the drunk actor of pirates of carribean'},
        {letter: "w", answer:"wakanda", status: 0, question: "the hometown of the superhero black panther"}  
    ],
    [
        {letter: "x", answer:"x", status: 0, question: "In mathematics, they always tells you to find the value of ?"},
        {letter: "x", answer:"xylophone", status: 0, question: "The musical instrument in the percussion family that consists of wooden bars struck by mallets."},
        {letter: "x", answer:"box", status: 0, question: "That contains x, where you can keep your thing"}
    ],
    [
        {letter: "y", answer:"troy", status: 0, question: "A world that contains Y which is a war movie played by hollywood star brad pit"},
        {letter: "y", answer:"yankee", status: 0, question: "A world that contains Y,Famous latin singer who sings reggeton is daddy ____ ?"},
        {letter: "y", answer:"year", status: 0, question: "365 days makes a ?"}
    ],
    [
        {letter: "z", answer:"zeus", status: 0, question: "Ancient sky and thunder god, in greek religion"},
        {letter: "z", answer:"zebra", status: 0, question: "A beautiful animals covered with black and white strips"},
        {letter: "z", answer:"zoology", status: 0, question: 'The study of animals, their behaviours and their interaction with ecosystem'}
    ]
]; 

    //Global Variable Declarations
    let alphabets = []
    let num = 0
    let correct = 0
    let incorrct = 0
    let random
    let playerName = ""
    let players = [
        {
            Name: "spiderMan",
            Correct: 10,
            Incorrect : 16

        },
        {
            Name: "batMann",
            Correct: 15,
            Incorrect : 6

        }]
    let totalTime = 180
    let time
    let gameOn = true

    //gets elements by their class/id 
    const question = document.querySelector(".question")
    const letter = document.querySelector(".letter")
    const nameInput = document.querySelector(".nameInput")
    const initial = document.querySelector(".initial-page")
    const submitName = document.querySelector(".submit-name")
    const scoreBoard = document.querySelector(".scoreBoard")
    const main = document.querySelector(".main")
    const result = document.querySelector(".result")
    const instructions = document.querySelector(".instructions")
    const instructionsDisplay = document.querySelector(".instructions-display")
    const liveScore = document.querySelector(".live-score")
    const pasapalabra = document.querySelector(".pasapalabra")
    const resetAll = document.querySelector(".reset")
    const home = document.querySelector(".home")
    const next = document.querySelector(".next")
    const newGame = document.querySelector(".new-game")
    const second = document.querySelector(".second")
    let ans = document.querySelector(".input")
    const welcome = document.querySelector("h3")
    let timer = document.querySelector(".timer")
    let timeUp = document.querySelector(".time-up")
    letter.style.color = "red"
    letter.style.fontSize = "30px"

    //function that displays the instructions if instruction button is clicked
    let txt = "Welcome to SKYLAB PasaPalabra...Its simple and fun . You will get any questions from A to Z. If you answer correct you get a point, if you answer incorrect you loose a point and if you dont know the answer, you can pass the word by typing 'PASABALARA' or clicking the pasapalabra button without affecting your point. Good luck!!!"
    let i = 0
    function typeWriter() {
    if (i < txt.length) {
      welcome.innerHTML += 	txt.charAt(i) ;
      i++;
      setTimeout(typeWriter, 70);
    }}

    //button that displayes instructions to the user
    instructions.addEventListener("click",function (){
        instructionsDisplay.style.display = "block"
        welcome.style.display = "block"
        typeWriter()
    })

    //Button that takes user to submit the name for playing a new game
   newGame.addEventListener("click",function (){
        second.style.display = "block"
        initial.style.display = "none"
    })

    //Generates random number between 0 and 2 to shuffle random questions on each game
    function randomNumber(){
        return Math.floor(Math.random() * 3)
        }

        let submitMessage = document.createElement("p")

    //submit button that takes to the game page when user submits his/her name, calls the neccesary function to start the main game page
    submitName.addEventListener("click", function(){
            validate()
        })
        
    //same as submit button but when user presses the ENTER KEY
    nameInput.addEventListener("keyup",function(e){
            if(e.keyCode === 13){
                validate()
            }
     })
    
    //validates the user name and starts the game
    function validate(){
            if(nameInput.value === "" || isFinite(nameInput.value)){
                initial.style.display = "none"
                main.style.display = "none"
                setTimeout(()=>submitMessage.innerHTML = "Insert your name correctly please",500)
                submitMessage.style.textAlign = "center"
                submitMessage.style.fontSize = "40px"
                submitMessage.style.color = "red"
                second.appendChild(submitMessage)
                nameInput.value = ""
           }else{
               submitMessage.innerHTML = ""
               timeUp.style.display = "none"
               initial.style.display = "none"
                second.style.display = "none"
                main.style.display = "block"
               playerName = nameInput.value
               generateAlphabets()
               random = randomNumber()
               myTimer()
               displayQuestion()
               
           }
        }

    //starts the timer when the game section is loaded after name validation
    function myTimer(){
        timer.innerHTML = 180
        time = setInterval(function(){
                    totalTime--
                    timer.innerHTML = totalTime
                    if(totalTime === 0){
                        gameOver()
                        timeUp.style.display = "block"

                    }
         },1000)
    }  

    //function that displays the scoreboard when time game is over / time is up
    function gameOver(){
        clearInterval(time)
                totalTime = 180
                addNewPlayer(playerName,correct,incorrct)
                displayScores()
                setTimeout(function (){
                 main.style.display = "none"
                 scoreBoard.style.display = "block"
        },1000)
    }

    function generateAlphabets() {
        let start = 'A'.charCodeAt(0);
        let last  = 'Z'.charCodeAt(0);
        for (let i = start; i <= last; ++i) {
          alphabets.push(String.fromCharCode(i));
        }
    }

    //displayes the question to the user
    function displayQuestion(){
        letter.innerHTML = questions[num][random].letter.toUpperCase()
        question.innerHTML = questions[num][random].question
    }

     //Checks the answer, and updates the points,color and status
     function checkAnswer(){
        let answer = ans.value.toLowerCase()
        if( answer === questions[num][random].answer){
            document.getElementById(alphabets[num]).style.background = "green"
            correct++
            questions[num][random].status = 1
            nextQuestion()
        }else if (answer === "pasapalabra" && num < questions.length-1){
            document.getElementById(alphabets[num]).style.background = "blue"
            questions[num][random].status = 0
            num++
            nextQuestion()
        }else if( answer !== questions[num][random].answer || ans.value === "") {
            document.getElementById(alphabets[num]).style.background = "red"
            incorrct++
            questions[num][random].status = 2
            nextQuestion()
        }
        ans.value = ""
        liveScore.innerHTML = "You have " + correct + " correct and " + incorrct + " incorrect answers"
    }
    
    //checks the status and points if they meet the criteria 
    function nextQuestion(){
        if(gameOn === true){
            if(questions[num][random].status === 0){
                displayQuestion()
                console.log(totalTime);
            }else if(num === questions.length-1 && correct + incorrct === 26 ){
                gameOver()
                gameOn = false
            }else if(num === questions.length - 1){
                num = 0
                nextQuestion()
            }else{
                num++
                nextQuestion()
            }
        }
        
    }

    //button that checks the answer and shows next question
    next.addEventListener("click",function (){
        checkAnswer()
       
    })

    //event that executes when user presses the enter key to submit the answer
    ans.addEventListener("keyup",function(e){
        if(e.keyCode === 13){
            checkAnswer()
        
        }
    })

    //button that fires when user clicks pasapalabra
    pasapalabra.addEventListener("click",function (){
        ans.value = "pasapalabra"
        checkAnswer()
       
    })

    //Resets all the data if user desires to play from the begining once entered to the game
    resetAll.addEventListener("click",function (){
        reset()
    })

    function reset(){
        correct = 0
        incorrct = 0
        num = 0
        for (let index = 0; index < questions.length; index++) {
            for (let j = 0; j < 3; j++) {
                questions[index][j].status = 0
                document.getElementById(alphabets[index]).style.background = "black"
            }
            
        }
        liveScore.innerHTML = ""
        nextQuestion()
    }

    //Adds the new player data and saves in the global array
    function addNewPlayer(newName,newCorrect,newIncorrect){
        let newPlayerData = {
        Name: newName,
        Correct:newCorrect,
        Incorrect:newIncorrect
        }
        players.push(newPlayerData)
    }

   //displays the scores of all the players who plays the game
    function displayScores(){
        for (let index = 0; index < players.length; index++) {
            let p = document.createElement("p")
            p.innerText = `${players[index].Name} ---> Correct Answer : ${players[index].Correct}  Incorrect Answer : ${players[index].Incorrect} `
            result.appendChild(p)
            }
    }
    
    //button that takes to the homepage after game is over
    home.addEventListener("click",function(){
       scoreBoard.style.display = "none"
       initial.style.display = "block"
       players = []
       playerName = ""
       nameInput.value = ""
       reset()
       gameOn = true
       welcome.style.display = "none"
    })
