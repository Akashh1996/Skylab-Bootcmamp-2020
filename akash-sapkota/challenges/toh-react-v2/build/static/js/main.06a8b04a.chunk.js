(this["webpackJsonptoh-react-v2"]=this["webpackJsonptoh-react-v2"]||[]).push([[0],{31:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),i=n.n(r),a=n(17),s=n.n(a),o=(n(31),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))}),u=n(8),j=n(13),h=n.n(j),O=n(18),b={LOAD_HEROES:"LOAD_HEROES",DELETE_HERO:"DELETE_HERO",ADD_HERO:"ADD_HERO",UPDATE_HERO:"UPDATE_HERO"},d=new(n(19).Dispatcher);function l(){return f.apply(this,arguments)}function f(){return(f=Object(O.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/heroes.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,d.dispatch({type:b.LOAD_HEROES,payload:n});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(20),E=n(21),p=n(25),g=n(24),x=n(22),m="CHANGE",H=[],D=new(function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"getHeroes",value:function(){return H}},{key:"addEventListener",value:function(e){this.on(m,e)}},{key:"removeEventListener",value:function(e){this.removeListener(m,e)}},{key:"emitChange",value:function(){this.emit(m)}},{key:"getTopHeroes",value:function(){return H.slice(1,5)}},{key:"getHeroDetail",value:function(e){return H.find((function(t){return t.id===+e}))}}]),n}(x.EventEmitter));d.register((function(e){switch(e.type){case b.LOAD_HEROES:H=e.payload,D.emitChange()}}));var L=D,y=n(6);var S=function(e){var t=Object(r.useState)(L.getHeroes()),n=Object(u.a)(t,2),i=n[0],a=n[1];function s(){a(L.getHeroes())}return Object(r.useEffect)((function(){return L.addEventListener(s),i&&i.length||l(),function(){L.removeEventListener(s)}}),[i]),Object(c.jsx)(c.Fragment,{children:i&&i.length>0&&i.map((function(e){return Object(c.jsxs)("li",{children:[Object(c.jsx)(y.b,{to:"/heroes/".concat(e.id),children:e.name}),Object(c.jsx)("button",{children:"x"})]},e.id)}))})};var R=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,1)[0];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"TOUR OF HEROES"}),Object(c.jsxs)("nav",{className:"toh-navigation",children:[Object(c.jsx)(y.b,{to:"/",children:"DashBoard"}),"|",Object(c.jsx)(y.b,{to:"/heroes",children:"Heroes"}),"|",t?Object(c.jsx)(y.b,{to:"/signout",children:"Sign Out"}):Object(c.jsx)(y.b,{to:"/signin",children:"Sign In"})]})]})};var T=function(){var e=Object(r.useState)(L.getTopHeroes()),t=Object(u.a)(e,2),n=t[0],i=t[1];function a(){i(L.getTopHeroes())}return Object(r.useEffect)((function(){return L.addEventListener(a),n&&n.length||l(),function(){L.removeEventListener(a)}}),[n]),Object(c.jsx)(c.Fragment,{children:n&&n.length>0&&n.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsx)(y.b,{to:"/heroes/".concat(e.id),children:e.name})},e.id)}))})};var _=function(e){var t=Object(r.useState)(+e.match.params.heroId),n=Object(u.a)(t,1)[0],i=Object(r.useState)(L.getHeroDetail(n)),a=Object(u.a)(i,2),s=a[0],o=a[1];function j(){o(L.getHeroDetail(n))}return Object(r.useEffect)((function(){return L.addEventListener(j),s&&s.length||l(),function(){L.removeEventListener(j)}}),[s,n]),Object(c.jsx)(c.Fragment,{children:s&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:s.name}),Object(c.jsx)("p",{children:s.id})]})})},k=n(2);s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsxs)(y.a,{children:[Object(c.jsx)(R,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(k.a,{path:"/",exact:!0,component:T}),Object(c.jsx)(k.a,{path:"/heroes",exact:!0,component:S}),Object(c.jsx)(k.a,{path:"/heroes/:heroId",component:_})]})}),document.getElementById("root")),o()}},[[40,1,2]]]);
//# sourceMappingURL=main.06a8b04a.chunk.js.map